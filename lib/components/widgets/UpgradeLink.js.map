{"version":3,"sources":["../../../src/components/widgets/UpgradeLink.js"],"names":["UpgradeLink","props","dispatch","featureSetId","trackingProperties","onSuccessfulUpgradeAction","PLANS","get","plan","updatedTrackingProperties","isSettingsApp","handleUpgradeLink","SUBSCRIPTION","initialBillingFrequency","BILLING_FREQUENCY","className","defaultProps","FEATURE_SET_ID","propTypes","func","isRequired","string","object"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;IAEqBA,W;;;;;;;;;;;6BACV;AAAA,mBAMH,KAAKC,KANF;AAAA,UAELC,QAFK,UAELA,QAFK;AAAA,UAGLC,YAHK,UAGLA,YAHK;AAAA,UAILC,kBAJK,UAILA,kBAJK;AAAA,UAKLC,yBALK,UAKLA,yBALK;;;AAQP,UAAMC,QAAQ,sBAAYC,GAAZ,CAAgB,OAAhB,CAAd;AACA,UAAMC,OAAO,iBAAK,mBAAO,cAAP,EAAuBL,YAAvB,CAAL,EAA2CG,KAA3C,CAAb;;AAEA,UAAMG,4BAA4B,kBAAML,kBAAN,EAA0B;AAC1DI,cAAMA,KAAKL,YAD+C;AAE1DO,uBAAe;AAF2C,OAA1B,CAAlC;;AAKA,UAAMC,oBAAoB,SAApBA,iBAAoB;AAAA,eACxBT,SACE,wDACE,uBAAU,mBAAYU,YAAtB,EAAoC;AAClCJ,oBADkC;AAElCK,mCAAyB,uBAASC,iBAFA;AAGlCV,8BAAoBK,yBAHc;AAIlCJ;AAJkC,SAApC,CADF,CADF,CADwB;AAAA,OAA1B;;AAYA,UAAMU,YAAY,0BAChB,cADgB,EAEhB,YAFgB,EAGhB,kBAHgB,EAIhB,cAJgB,CAAlB;AAMA;AACA,aACE;AAAA;AAAA,UAAG,MAAK,cAAR,EAAuB,WAAWA,SAAlC,EAA6C,SAASJ,iBAAtD;AACG,qBAAE,SAAF;AADH,OADF;AAKA;AACD;;;;;;kBA1CkBX,W;;;AA6CrBA,YAAYgB,YAAZ,GAA2B;AACzBb,gBAAc,uBAASc;AADE,CAA3B;;AAIAjB,YAAYkB,SAAZ,GAAwB;AACtBhB,YAAU,oBAAUiB,IAAV,CAAeC,UADH;AAEtBjB,gBAAc,oBAAUkB,MAFF;AAGtBjB,sBAAoB,oBAAUkB,MAAV,CAAiBF,UAHf;AAItBf,6BAA2B,oBAAUc;AAJf,CAAxB","file":"UpgradeLink.js","sourcesContent":["import Environment from \"@common/utils/environment\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport { DEFAULTS } from \"@settings/constants/subscription\";\nimport { MODAL_TYPES } from \"@common/constants/modal\";\nimport { _ } from \"@common/utils/i18n\";\nimport { find, merge, propEq } from \"ramda\";\nimport { openModal } from \"@common/actions/modal\";\nimport { requireAuthActionWrapper } from \"@common/actions/requireAuthActionWrapper\";\n\nexport default class UpgradeLink extends Component {\n  render() {\n    const {\n      dispatch,\n      featureSetId,\n      trackingProperties,\n      onSuccessfulUpgradeAction,\n    } = this.props;\n\n    const PLANS = Environment.get(\"PLANS\");\n    const plan = find(propEq(\"featureSetId\", featureSetId), PLANS);\n\n    const updatedTrackingProperties = merge(trackingProperties, {\n      plan: plan.featureSetId,\n      isSettingsApp: false,\n    });\n\n    const handleUpgradeLink = () =>\n      dispatch(\n        requireAuthActionWrapper(\n          openModal(MODAL_TYPES.SUBSCRIPTION, {\n            plan,\n            initialBillingFrequency: DEFAULTS.BILLING_FREQUENCY,\n            trackingProperties: updatedTrackingProperties,\n            onSuccessfulUpgradeAction,\n          })\n        )\n      );\n\n    const className = classnames(\n      \"+upgrade-cta\",\n      \"+uppercase\",\n      \"+weight-semibold\",\n      \"+font-size-m\"\n    );\n    /* eslint-disable no-script-url */\n    return (\n      <a href=\"javascript:;\" className={className} onClick={handleUpgradeLink}>\n        {_(\"Upgrade\")}\n      </a>\n    );\n    /* eslint-enable no-script-url */\n  }\n}\n\nUpgradeLink.defaultProps = {\n  featureSetId: DEFAULTS.FEATURE_SET_ID,\n};\n\nUpgradeLink.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  featureSetId: PropTypes.string,\n  trackingProperties: PropTypes.object.isRequired,\n  onSuccessfulUpgradeAction: PropTypes.func,\n};\n"]}