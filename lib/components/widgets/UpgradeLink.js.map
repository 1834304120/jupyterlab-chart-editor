{"version":3,"sources":["../../../src/components/widgets/UpgradeLink.js"],"names":["UpgradeLink","props","dispatch","featureSetId","trackingProperties","onSuccessfulUpgradeAction","PLANS","get","plan","updatedTrackingProperties","isSettingsApp","handleUpgradeLink","SUBSCRIPTION","initialBillingFrequency","BILLING_FREQUENCY","className","defaultProps","FEATURE_SET_ID","propTypes","func","isRequired","string","object"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;IAEqBA,W;;;;;;;;;;;iCACR;AAAA,yBAMD,KAAKC,KANJ;AAAA,gBAEDC,QAFC,UAEDA,QAFC;AAAA,gBAGDC,YAHC,UAGDA,YAHC;AAAA,gBAIDC,kBAJC,UAIDA,kBAJC;AAAA,gBAKDC,yBALC,UAKDA,yBALC;;;AAQL,gBAAMC,QAAQ,sBAAYC,GAAZ,CAAgB,OAAhB,CAAd;AACA,gBAAMC,OAAO,iBACT,mBAAO,cAAP,EAAuBL,YAAvB,CADS,EAETG,KAFS,CAAb;;AAKA,gBAAMG,4BAA4B,kBAAML,kBAAN,EAA0B;AACxDI,sBAAMA,KAAKL,YAD6C;AAExDO,+BAAe;AAFyC,aAA1B,CAAlC;;AAKA,gBAAMC,oBAAoB,SAApBA,iBAAoB;AAAA,uBAAMT,SAC5B,wDAAyB,uBAAU,mBAAYU,YAAtB,EAAoC;AACzDJ,8BADyD;AAEzDK,6CAAyB,uBAASC,iBAFuB;AAGzDV,wCAAoBK,yBAHqC;AAIzDJ;AAJyD,iBAApC,CAAzB,CAD4B,CAAN;AAAA,aAA1B;;AAUA,gBAAMU,YAAY,0BACd,cADc,EAEd,YAFc,EAGd,kBAHc,EAId,cAJc,CAAlB;AAMA;AACA,mBACI;AAAA;AAAA,kBAAG,MAAK,cAAR;AACG,+BAAWA,SADd;AAEG,6BAASJ,iBAFZ;AAGG,yBAAI;AAHP;AAKK,6BAAE,SAAF;AALL,aADJ;AASA;AACH;;;;;;kBA/CgBX,W;;;AAkDrBA,YAAYgB,YAAZ,GAA2B;AACvBb,kBAAc,uBAASc;AADA,CAA3B;;AAIAjB,YAAYkB,SAAZ,GAAwB;AACpBhB,cAAU,iBAAUiB,IAAV,CAAeC,UADL;AAEpBjB,kBAAc,iBAAUkB,MAFJ;AAGpBjB,wBAAoB,iBAAUkB,MAAV,CAAiBF,UAHjB;AAIpBf,+BAA2B,iBAAUc;AAJjB,CAAxB","file":"UpgradeLink.js","sourcesContent":["import Environment from '@common/utils/environment';\nimport React, {Component, PropTypes} from 'react';\nimport classnames from 'classnames';\nimport {DEFAULTS} from '@settings/constants/subscription';\nimport {MODAL_TYPES} from '@common/constants/modal';\nimport {_} from '@common/utils/i18n';\nimport {find, merge, propEq} from 'ramda';\nimport {openModal} from '@common/actions/modal';\nimport {requireAuthActionWrapper} from '@common/actions/requireAuthActionWrapper';\n\nexport default class UpgradeLink extends Component {\n    render() {\n        const {\n            dispatch,\n            featureSetId,\n            trackingProperties,\n            onSuccessfulUpgradeAction\n        } = this.props;\n\n        const PLANS = Environment.get('PLANS');\n        const plan = find(\n            propEq('featureSetId', featureSetId),\n            PLANS\n        );\n\n        const updatedTrackingProperties = merge(trackingProperties, {\n            plan: plan.featureSetId,\n            isSettingsApp: false\n        });\n\n        const handleUpgradeLink = () => dispatch(\n            requireAuthActionWrapper(openModal(MODAL_TYPES.SUBSCRIPTION, {\n                plan,\n                initialBillingFrequency: DEFAULTS.BILLING_FREQUENCY,\n                trackingProperties: updatedTrackingProperties,\n                onSuccessfulUpgradeAction\n            })\n            )\n        );\n\n        const className = classnames(\n            '+upgrade-cta',\n            '+uppercase',\n            '+weight-semibold',\n            '+font-size-m'\n        );\n        /* eslint-disable no-script-url */\n        return (\n            <a href=\"javascript:;\"\n               className={className}\n               onClick={handleUpgradeLink}\n               ref=\"upgrade\"\n            >\n                {_('Upgrade')}\n            </a>\n        );\n        /* eslint-enable no-script-url */\n    }\n}\n\nUpgradeLink.defaultProps = {\n    featureSetId: DEFAULTS.FEATURE_SET_ID\n};\n\nUpgradeLink.propTypes = {\n    dispatch: PropTypes.func.isRequired,\n    featureSetId: PropTypes.string,\n    trackingProperties: PropTypes.object.isRequired,\n    onSuccessfulUpgradeAction: PropTypes.func\n};\n"]}