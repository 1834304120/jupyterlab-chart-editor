{"version":3,"sources":["../../../../src/components/widgets/annotation_editor/suppressContentEditableWarning.js"],"names":["suppressContentEditableWarning","restoreContentEditableWarning","originalConsoleError","prodEnv","process","env","NODE_ENV","testEnv","log","console","message","modifiedConsoleError","exception","stringToSuppress","String","indexOf","e","apply","arguments","error"],"mappings":";;;;;QAqCgBA,8B,GAAAA,8B;QAaAC,6B,GAAAA,6B;AAlDhB;;;;;;AAMA;AACA,IAAIC,6BAAJ;;AAEA,IAAMC,UAAUC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAAzC;AACA,IAAMC,UAAUH,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,MAAzC;;AAEA;AACA,IAAME,MAAM,SAANA,GAAM,UAAW;AACrB,MAAID,OAAJ,EAAa;AACX;AACD;;AAEDE,UAAQD,GAAR,CAAYE,OAAZ;AACD,CAND;;AAQA,IAAMC,uBAAuB,SAAvBA,oBAAuB,CAASC,SAAT,EAAoB;AAC/C,MAAMC,mBAAmB,2CAAzB;AACA,MAAI;AACF,QAAIC,OAAOF,SAAP,EAAkBG,OAAlB,CAA0BF,gBAA1B,MAAgD,CAApD,EAAuD;AACrD;AACD;AACF,GAJD,CAIE,OAAOG,CAAP,EAAU;AACVd,yBAAqBe,KAArB,CAA2BR,OAA3B,EAAoC,CAClC,mDADkC,CAApC;AAGAP,yBAAqBe,KAArB,CAA2BR,OAA3B,EAAoCO,CAApC;AACD;;AAEDd,uBAAqBe,KAArB,CAA2BR,OAA3B,EAAoCS,SAApC;AACD,CAdD;;AAgBO,SAASlB,8BAAT,GAA0C;AAC/C,MAAIG,WAAWI,OAAf,EAAwB;AACtB;AACD;;AAEDC,MACE,0DACE,2BAFJ;AAIAN,yBAAuBO,QAAQU,KAA/B;AACAV,UAAQU,KAAR,GAAgBR,oBAAhB;AACD;;AAEM,SAASV,6BAAT,GAAyC;AAC9C,MAAIE,WAAWI,OAAf,EAAwB;AACtB;AACD;;AAED,MAAIL,oBAAJ,EAA0B;AACxBM,QAAI,0CAAJ;AACAC,YAAQU,KAAR,GAAgBjB,oBAAhB;AACD;AACF;;AAED","file":"suppressContentEditableWarning.js","sourcesContent":["/*\n* TODO: Get rid of this once we've upgraded to React 15 and latest draft-js:\n* https://github.com/facebook/draft-js/pull/98\n* https://github.com/plotly/streambed/issues/6121\n*/\n\n/* eslint-disable no-console */\nlet originalConsoleError;\n\nconst prodEnv = process.env.NODE_ENV === \"production\";\nconst testEnv = process.env.NODE_ENV === \"test\";\n\n// Log a message in development; suppress in test\nconst log = message => {\n  if (testEnv) {\n    return;\n  }\n\n  console.log(message);\n};\n\nconst modifiedConsoleError = function(exception) {\n  const stringToSuppress = \"Warning: A component is `contentEditable`\";\n  try {\n    if (String(exception).indexOf(stringToSuppress) === 0) {\n      return;\n    }\n  } catch (e) {\n    originalConsoleError.apply(console, [\n      \"Error while searching for contentEditable warning\",\n    ]);\n    originalConsoleError.apply(console, e);\n  }\n\n  originalConsoleError.apply(console, arguments);\n};\n\nexport function suppressContentEditableWarning() {\n  if (prodEnv || testEnv) {\n    return;\n  }\n\n  log(\n    \"Replacing `console.error` implementation to suppress \" +\n      \"`contentEditable` warning\"\n  );\n  originalConsoleError = console.error;\n  console.error = modifiedConsoleError;\n}\n\nexport function restoreContentEditableWarning() {\n  if (prodEnv || testEnv) {\n    return;\n  }\n\n  if (originalConsoleError) {\n    log(\"Restoring `console.error` implementation\");\n    console.error = originalConsoleError;\n  }\n}\n\n/* eslint-enable no-console */\n"]}