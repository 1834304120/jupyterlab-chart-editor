{"version":3,"sources":["../../../../../../src/components/widgets/annotation_editor/editors/__tests__/debounce-test.js"],"names":["jest","useFakeTimers","describe","it","mockFn","genMockFn","args","runAllTimers","expect","mock","calls","length","toBe","toBeCalledWith","firstArgs","finalArgs"],"mappings":";;AAAA;;;;;;AACAA,KAAKC,aAAL;;AAEA;;;;;;AAMAC,SAAS,UAAT,EAAqB,YAAM;AACzBC,KAAG,4CAAH,EAAiD,YAAM;AAAA;;AACrD,QAAMC,SAASJ,KAAKK,SAAL,EAAf;AACA,QAAMC,OAAO,CAAC,OAAD,CAAb;;AAEA,4BAASF,MAAT,EAAiBE,IAAjB;AACAN,SAAKO,YAAL;;AAEAC,WAAOJ,OAAOK,IAAP,CAAYC,KAAZ,CAAkBC,MAAzB,EAAiCC,IAAjC,CAAsC,CAAtC;AACA,sBAAOR,MAAP,GAAeS,cAAf,gBAAiCP,IAAjC;AACD,GATD;;AAWAH,KAAG,iDAAH,EAAsD,YAAM;AAAA;;AAC1D,QAAMC,SAASJ,KAAKK,SAAL,EAAf;AACA,QAAMS,YAAY,CAAC,aAAD,CAAlB;AACA,QAAMC,YAAY,CAAC,aAAD,CAAlB;;AAEA,4BAASX,MAAT,EAAiBU,SAAjB;AACA,4BAASV,MAAT,EAAiBW,SAAjB;AACAf,SAAKO,YAAL;;AAEAC,WAAOJ,OAAOK,IAAP,CAAYC,KAAZ,CAAkBC,MAAzB,EAAiCC,IAAjC,CAAsC,CAAtC;AACA,uBAAOR,MAAP,GAAeS,cAAf,iBAAiCE,SAAjC;AACD,GAXD;AAYD,CAxBD","file":"debounce-test.js","sourcesContent":["import debounce from \"@workspace/components/widgets/annotation_editor/editors/debounce\";\njest.useFakeTimers();\n\n/*\n * NOTE: Jest provides its own fake timers, use those with useFakeTimers\n * instead of using Jasmine's API!\n * https://facebook.github.io/jest/docs/timer-mocks.html\n */\n\ndescribe(\"debounce\", () => {\n  it(\"calls the passed in function after a delay\", () => {\n    const mockFn = jest.genMockFn();\n    const args = [\"value\"];\n\n    debounce(mockFn, args);\n    jest.runAllTimers();\n\n    expect(mockFn.mock.calls.length).toBe(1);\n    expect(mockFn).toBeCalledWith(...args);\n  });\n\n  it(\"cancels pending function call when called again\", () => {\n    const mockFn = jest.genMockFn();\n    const firstArgs = [\"first value\"];\n    const finalArgs = [\"final value\"];\n\n    debounce(mockFn, firstArgs);\n    debounce(mockFn, finalArgs);\n    jest.runAllTimers();\n\n    expect(mockFn.mock.calls.length).toBe(1);\n    expect(mockFn).toBeCalledWith(...finalArgs);\n  });\n});\n"]}