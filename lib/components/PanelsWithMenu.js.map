{"version":3,"sources":["../../src/components/PanelsWithMenu.js"],"names":["PanelsWithModeMenu","props","state","section","setSection","bind","renderSection","setState","i","name","panels","obj","child","children","sectionLookup","sectionIndex","sections","length","hasOwnProperty","push","menuOpts","computeMenuOptions","map"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;;;;;;;IAEqBA,kB;;;AACnB,8BAAaC,KAAb,EAAoB;AAAA;;AAAA,wIACZA,KADY;;AAGlB,UAAKC,KAAL,GAAa;AACXC,eAAS;AADE,KAAb;;AAIA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,OAAlB;AACA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBD,IAAnB,OAArB;AARkB;AASnB;;;;+BAEUF,O,EAAS;AAClB,WAAKI,QAAL,CAAc,EAAEJ,gBAAF,EAAd;AACD;;;kCAEcA,O,EAASK,C,EAAG;AACzB,aAAO;AACL,aAAKA,CADA;AAEL,eAAOL,QAAQM,IAFV;AAGL,gBAAQN,QAAQO,MAHX;AAIL,wBAAgB,KAAKR,KAAL,CAAWC,OAJtB;AAKL,yBAAiB,KAAKC;AALjB,QAAP;AAOD;;;yCAEqB;AACpB,UAAIO,GAAJ,EAASC,KAAT,EAAgBT,OAAhB,EAAyBM,IAAzB;AACA,UAAII,WAAW,KAAKZ,KAAL,CAAWY,QAA1B;AACA,UAAIC,gBAAgB,EAApB;AACA,UAAIC,YAAJ;AACA,UAAIC,WAAW,EAAf;AACA,WAAK,IAAIR,IAAI,CAAb,EAAgBA,IAAIK,SAASI,MAA7B,EAAqCT,GAArC,EAA0C;AACxCI,gBAAQC,SAASL,CAAT,CAAR;AACAL,kBAAUS,MAAMX,KAAN,CAAYE,OAAtB;AACAM,eAAOG,MAAMX,KAAN,CAAYQ,IAAnB;;AAEA,YAAIK,cAAcI,cAAd,CAA6Bf,OAA7B,CAAJ,EAA2C;AACzCY,yBAAeD,cAAcX,OAAd,CAAf;AACAQ,gBAAMK,SAASD,YAAT,CAAN;AACD,SAHD,MAGO;AACLD,wBAAcX,OAAd,IAAyBa,SAASC,MAAlC;AACAN,gBAAM,EAACF,MAAMN,OAAP,EAAgBO,QAAQ,EAAxB,EAAN;AACAM,mBAASG,IAAT,CAAcR,GAAd;AACD;;AAEDA,YAAID,MAAJ,CAAWS,IAAX,CAAgBV,IAAhB;AACD;;AAED,aAAOO,QAAP;AACD;;;6BAES;AACR,UAAII,WAAW,KAAKC,kBAAL,EAAf;;AAEA,aACE;AAAA;AAAA;AACE;AAAA;AAAA,YAAK,WAAW,iBAAI,WAAJ,CAAhB;AACGD,mBAASE,GAAT,CAAa,KAAKhB,aAAlB;AADH,SADF;AAKE;AAAA;AAAA;AACG,eAAKL,KAAL,CAAWY;AADd;AALF,OADF;AAWD;;;;;;kBAlEkBb,kB","file":"PanelsWithMenu.js","sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Base from './base'\nimport { bem } from \"../common\";\nimport ModeMenuSection from './ModeMenuSection'\n\nexport default class PanelsWithModeMenu extends Base {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      section: ''\n    };\n\n    this.setSection = this.setSection.bind(this);\n    this.renderSection = this.renderSection.bind(this);\n  }\n\n  setSection(section) {\n    this.setState({ section });\n  }\n\n  renderSection (section, i) {\n    return <ModeMenuSection\n      key={i}\n      label={section.name}\n      panels={section.panels}\n      currentSection={this.state.section}\n      onChangeSection={this.setSection}\n    />\n  }\n\n  computeMenuOptions () {\n    var obj, child, section, name;\n    var children = this.props.children;\n    var sectionLookup = {};\n    var sectionIndex;\n    var sections = [];\n    for (var i = 0; i < children.length; i++) {\n      child = children[i];\n      section = child.props.section;\n      name = child.props.name;\n\n      if (sectionLookup.hasOwnProperty(section)) {\n        sectionIndex = sectionLookup[section];\n        obj = sections[sectionIndex];\n      } else {\n        sectionLookup[section] = sections.length;\n        obj = {name: section, panels: []}\n        sections.push(obj);\n      }\n\n      obj.panels.push(name);\n    }\n\n    return sections;\n  }\n\n  render () {\n    var menuOpts = this.computeMenuOptions();\n\n    return (\n      <div>\n        <div className={bem(\"mode-menu\")}>\n          {menuOpts.map(this.renderSection)}\n        </div>\n\n        <div>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n"]}