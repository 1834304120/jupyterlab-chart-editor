{"version":3,"sources":["../src/PlotlyEditor.js"],"names":["PlotlyEditor","gd","props","graphDiv","dataSourceNames","Object","keys","dataSources","locale","dictionaries","data","fullData","_fullData","layout","fullLayout","_fullLayout","onUpdate","updateProp","bind","updates","traces","type","children","defaultProps","childContextTypes","string","object","any","array","func"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AAEA;;;;AACA;;AACA;;;;AAEA;;;;;;;;;;;;IAEMA,Y;;;;;;;;;;;sCACc;AAChB,UAAIC,KAAK,KAAKC,KAAL,CAAWC,QAAX,IAAuB,EAAhC;AACA,UAAIC,kBAAkBC,OAAOC,IAAP,CAAY,KAAKJ,KAAL,CAAWK,WAAX,IAA0B,EAAtC,CAAtB;AACA,aAAO;AACLJ,kBAAUF,EADL;AAELO,gBAAQ,KAAKN,KAAL,CAAWM,MAFd;AAGLC,uCAHK;AAILC,cAAMT,GAAGS,IAJJ;AAKLC,kBAAUV,GAAGW,SALR;AAMLC,gBAAQZ,GAAGY,MANN;AAOLC,oBAAYb,GAAGc,WAPV;AAQLC,kBAAU,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CARL;AASLX,qBAAa,KAAKL,KAAL,CAAWK,WATnB;AAULH,yBAAiBA;AAVZ,OAAP;AAYD;;;+BAEUe,O,EAASC,M,EAAQC,I,EAAM;AAChC,WAAKnB,KAAL,CAAWc,QAAX,IACE,KAAKd,KAAL,CAAWc,QAAX,CAAoB,KAAKd,KAAL,CAAWC,QAA/B,EAAyCgB,OAAzC,EAAkDC,MAAlD,EAA0DC,IAA1D,CADF;AAED;;;6BAEQ;AACP,aACE;AAAA;AAAA,UAAK,WAAW,eAAhB;AACG,aAAKnB,KAAL,CAAWC,QAAX,KACE,KAAKD,KAAL,CAAWoB,QAAX,GAAsB,KAAKpB,KAAL,CAAWoB,QAAjC,GAA4C,4DAD9C;AADH,OADF;AAMD;;;;;;AAGHtB,aAAauB,YAAb,GAA4B;AAC1Bf,UAAQ;AADkB,CAA5B;;AAIAR,aAAawB,iBAAb,GAAiC;AAC/BhB,UAAQ,oBAAUiB,MADa;AAE/BhB,gBAAc,oBAAUiB,MAFO;AAG/BvB,YAAU,oBAAUwB,GAHW;AAI/BpB,eAAa,oBAAUmB,MAJQ;AAK/BtB,mBAAiB,oBAAUwB,KALI;AAM/BlB,QAAM,oBAAUkB,KANe;AAO/BjB,YAAU,oBAAUiB,KAPW;AAQ/Bf,UAAQ,oBAAUa,MARa;AAS/BZ,cAAY,oBAAUY,MATS;AAU/BV,YAAU,oBAAUa;AAVW,CAAjC;kBAYe7B,Y","file":"PlotlyEditor.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport constants from \"./lib/constants\";\nimport { bem } from \"./lib\";\nimport dictionaries from \"./locales\";\n\nimport DefaultEditor from \"./DefaultEditor\";\n\nclass PlotlyEditor extends Component {\n  getChildContext() {\n    var gd = this.props.graphDiv || {};\n    var dataSourceNames = Object.keys(this.props.dataSources || {});\n    return {\n      graphDiv: gd,\n      locale: this.props.locale,\n      dictionaries: dictionaries,\n      data: gd.data,\n      fullData: gd._fullData,\n      layout: gd.layout,\n      fullLayout: gd._fullLayout,\n      onUpdate: this.updateProp.bind(this),\n      dataSources: this.props.dataSources,\n      dataSourceNames: dataSourceNames,\n    };\n  }\n\n  updateProp(updates, traces, type) {\n    this.props.onUpdate &&\n      this.props.onUpdate(this.props.graphDiv, updates, traces, type);\n  }\n\n  render() {\n    return (\n      <div className={bem()}>\n        {this.props.graphDiv &&\n          (this.props.children ? this.props.children : <DefaultEditor />)}\n      </div>\n    );\n  }\n}\n\nPlotlyEditor.defaultProps = {\n  locale: \"en\",\n};\n\nPlotlyEditor.childContextTypes = {\n  locale: PropTypes.string,\n  dictionaries: PropTypes.object,\n  graphDiv: PropTypes.any,\n  dataSources: PropTypes.object,\n  dataSourceNames: PropTypes.array,\n  data: PropTypes.array,\n  fullData: PropTypes.array,\n  layout: PropTypes.object,\n  fullLayout: PropTypes.object,\n  onUpdate: PropTypes.func,\n};\nexport default PlotlyEditor;\n"]}