{"version":3,"sources":["../src/PlotlyEditor.js"],"names":["PlotlyEditor","gd","props","graphDiv","dataSourceNames","Object","keys","dataSources","locale","dictionaries","data","fullData","_fullData","layout","fullLayout","_fullLayout","onUpdate","updateProp","bind","updates","traces","console","log","children","defaultProps","childContextTypes","string","object","any","array","func"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AAEA;;;;AACA;;AACA;;;;AAEA;;;;;;;;;;;;IAEMA,Y;;;;;;;;;;;sCACc;AAChB,UAAIC,KAAK,KAAKC,KAAL,CAAWC,QAAX,IAAuB,EAAhC;AACA,UAAIC,kBAAkBC,OAAOC,IAAP,CAAY,KAAKJ,KAAL,CAAWK,WAAX,IAA0B,EAAtC,CAAtB;AACA,aAAO;AACLJ,kBAAUF,EADL;AAELO,gBAAQ,KAAKN,KAAL,CAAWM,MAFd;AAGLC,uCAHK;AAILC,cAAMT,GAAGS,IAJJ;AAKLC,kBAAUV,GAAGW,SALR;AAMLC,gBAAQZ,GAAGY,MANN;AAOLC,oBAAYb,GAAGc,WAPV;AAQLC,kBAAU,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CARL;AASLX,qBAAa,KAAKL,KAAL,CAAWK,WATnB;AAULH,yBAAiBA;AAVZ,OAAP;AAYD;;;+BAEUe,O,EAASC,M,EAAQ;AAC1BC,cAAQC,GAAR,CAAY,kBAAZ,EAAgCH,OAAhC,EAAyCC,MAAzC;AACA,WAAKlB,KAAL,CAAWc,QAAX,IACE,KAAKd,KAAL,CAAWc,QAAX,CAAoB,KAAKd,KAAL,CAAWC,QAA/B,EAAyCgB,OAAzC,EAAkDC,MAAlD,CADF;AAED;;;6BAEQ;AACP,aACE;AAAA;AAAA,UAAK,WAAW,eAAhB;AACG,aAAKlB,KAAL,CAAWC,QAAX,KACE,KAAKD,KAAL,CAAWqB,QAAX,GAAsB,KAAKrB,KAAL,CAAWqB,QAAjC,GAA4C,4DAD9C;AADH,OADF;AAMD;;;;;;AAGHvB,aAAawB,YAAb,GAA4B;AAC1BhB,UAAQ;AADkB,CAA5B;;AAIAR,aAAayB,iBAAb,GAAiC;AAC/BjB,UAAQ,oBAAUkB,MADa;AAE/BjB,gBAAc,oBAAUkB,MAFO;AAG/BxB,YAAU,oBAAUyB,GAHW;AAI/BrB,eAAa,oBAAUoB,MAJQ;AAK/BvB,mBAAiB,oBAAUyB,KALI;AAM/BnB,QAAM,oBAAUmB,KANe;AAO/BlB,YAAU,oBAAUkB,KAPW;AAQ/BhB,UAAQ,oBAAUc,MARa;AAS/Bb,cAAY,oBAAUa,MATS;AAU/BX,YAAU,oBAAUc;AAVW,CAAjC;kBAYe9B,Y","file":"PlotlyEditor.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport constants from \"./lib/constants\";\nimport { bem } from \"./lib\";\nimport dictionaries from \"./locales\";\n\nimport DefaultEditor from \"./DefaultEditor\";\n\nclass PlotlyEditor extends Component {\n  getChildContext() {\n    var gd = this.props.graphDiv || {};\n    var dataSourceNames = Object.keys(this.props.dataSources || {});\n    return {\n      graphDiv: gd,\n      locale: this.props.locale,\n      dictionaries: dictionaries,\n      data: gd.data,\n      fullData: gd._fullData,\n      layout: gd.layout,\n      fullLayout: gd._fullLayout,\n      onUpdate: this.updateProp.bind(this),\n      dataSources: this.props.dataSources,\n      dataSourceNames: dataSourceNames,\n    };\n  }\n\n  updateProp(updates, traces) {\n    console.log('updates, traces:', updates, traces);\n    this.props.onUpdate &&\n      this.props.onUpdate(this.props.graphDiv, updates, traces);\n  }\n\n  render() {\n    return (\n      <div className={bem()}>\n        {this.props.graphDiv &&\n          (this.props.children ? this.props.children : <DefaultEditor />)}\n      </div>\n    );\n  }\n}\n\nPlotlyEditor.defaultProps = {\n  locale: \"en\",\n};\n\nPlotlyEditor.childContextTypes = {\n  locale: PropTypes.string,\n  dictionaries: PropTypes.object,\n  graphDiv: PropTypes.any,\n  dataSources: PropTypes.object,\n  dataSourceNames: PropTypes.array,\n  data: PropTypes.array,\n  fullData: PropTypes.array,\n  layout: PropTypes.object,\n  fullLayout: PropTypes.object,\n  onUpdate: PropTypes.func,\n};\nexport default PlotlyEditor;\n"]}